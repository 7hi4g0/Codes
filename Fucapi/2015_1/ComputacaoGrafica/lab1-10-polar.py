#!/usr/bin/env python2.7

from math import *

from OpenGL.GL import *
from OpenGL.GLUT import *

try:
    from shapes import *
except ImportError:
    print >> sys.stderr, 'O arquivo "shapes.py" eh necessario neste diretorio.'
    print >> sys.stderr, 'Baixe a versao mais nova do site https://prof.vilarneto.com/cg .'
    sys.exit(1)


mostraDesenhoFinal = True


def draw():
    # Limpeza da tela
    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT)
    glLoadIdentity()

    glScale(0.05, 0.05, 1)
    desenhaGrade(-20, 20, -20, 20)

    # --- Inicio do desenho da tela ---

    if mostraDesenhoFinal:
	glColor(1, 0, 0)   # Seta cor = vermelho
	glLineWidth(3)     # Seta linha com largura mais grossa
	desenhaCamerasDesejadas()

    glColor(0, 1, 0)   # Seta cor = verde
    glLineWidth(1)     # Seta linha com largura comum

    # === ALUNOS DEVEM ALTERAR O CODIGO A PARTIR DAQUI ===

    for angulo in range(0, 360, 60):
	glPushMatrix()  # Salva transformacoes atuais

        glRotate(angulo, 0, 0, 1)
        glTranslated(7, 2, 0)
        glRotated(-angulo, 0, 0, 1)
        glTranslated(-7, -2, 0)
	desenhaCamera()

	glPopMatrix()   # Recupera transformacoes salvas

    # === ALUNOS DEVEM ALTERAR O CODIGO ATE' AQUI ===

    # --- Fim do desenho da tela ---

    # Exibicao da tela que acabou de ser construida
    glutSwapBuffers()


def keyboard(char, x, y):
    global mostraDesenhoFinal

    if char == '\x1b':
        sys.exit(0)

    if char == ' ':
	mostraDesenhoFinal = not mostraDesenhoFinal

    glutPostRedisplay()


def desenhaCamerasDesejadas():
    vertexes = [
	[9.232050, -1.622180],
	[8.385639, -1.897195],
	[7.862529, -2.617196],
	[7.862529, -3.507164],
	[8.385639, -4.227164],
	[9.232050, -4.502180],
	[10.078461, -4.227164],
	[10.601572, -3.507165],
	[10.601572, -2.617196],
	[10.078461, -1.897195],
	[6.032051, -0.862180],
	[6.832051, -0.862180],
	[6.032051, -0.462180],
	[6.832051, -0.462180],
	[5.232050, -5.062180],
	[12.232050, -5.062180],
	[5.232050, -1.062180],
	[12.232050, -1.062180],
	[10.232050, -0.062180],
	[8.232050, -0.062180],
	[10.832050, -1.062180],
	[7.632050, -1.062180],
	[9.232050, -1.262180],
	[8.174036, -1.605949],
	[7.520149, -2.505949],
	[7.520149, -3.618411],
	[8.174036, -4.518411],
	[9.232050, -4.862180],
	[10.290064, -4.518411],
	[10.943953, -3.618411],
	[10.943953, -2.505949],
	[10.290064, -1.605949],
	[2.232048, -3.622178],
	[1.385637, -3.897193],
	[0.862527, -4.617193],
	[0.862527, -5.507162],
	[1.385637, -6.227162],
	[2.232048, -6.502178],
	[3.078459, -6.227161],
	[3.601569, -5.507162],
	[3.601569, -4.617193],
	[3.078459, -3.897193],
	[-0.967952, -2.862178],
	[-0.167952, -2.862178],
	[-0.967952, -2.462178],
	[-0.167952, -2.462178],
	[-1.767952, -7.062178],
	[5.232048, -7.062178],
	[-1.767952, -3.062178],
	[5.232048, -3.062178],
	[3.232048, -2.062178],
	[1.232048, -2.062178],
	[3.832048, -3.062178],
	[0.632048, -3.062178],
	[2.232048, -3.262177],
	[1.174034, -3.605947],
	[0.520146, -4.505947],
	[0.520146, -5.618408],
	[1.174034, -6.518408],
	[2.232048, -6.862178],
	[3.290062, -6.518408],
	[3.943950, -5.618408],
	[3.943950, -4.505947],
	[3.290061, -3.605947],
	[-3.000000, 1.440001],
	[-3.846411, 1.164985],
	[-4.369521, 0.444985],
	[-4.369521, -0.444984],
	[-3.846411, -1.164984],
	[-3.000000, -1.440000],
	[-2.153589, -1.164984],
	[-1.630479, -0.444984],
	[-1.630479, 0.444985],
	[-2.153589, 1.164985],
	[-6.200000, 2.200000],
	[-5.400000, 2.200000],
	[-6.200000, 2.600000],
	[-5.400000, 2.600000],
	[-7.000000, -2.000000],
	[0.000000, -2.000000],
	[-7.000000, 2.000000],
	[0.000000, 2.000000],
	[-2.000000, 3.000000],
	[-4.000000, 3.000000],
	[-1.400000, 2.000000],
	[-4.600000, 2.000000],
	[-3.000000, 1.800001],
	[-4.058014, 1.456231],
	[-4.711902, 0.556231],
	[-4.711902, -0.556230],
	[-4.058014, -1.456230],
	[-3.000000, -1.799999],
	[-1.941986, -1.456230],
	[-1.288098, -0.556230],
	[-1.288098, 0.556231],
	[-1.941987, 1.456232],
	[-1.232050, 8.502179],
	[-2.078461, 8.227163],
	[-2.601571, 7.507164],
	[-2.601571, 6.617195],
	[-2.078461, 5.897195],
	[-1.232050, 5.622179],
	[-0.385639, 5.897195],
	[0.137471, 6.617194],
	[0.137471, 7.507164],
	[-0.385639, 8.227163],
	[-4.432050, 9.262178],
	[-3.632050, 9.262178],
	[-4.432050, 9.662179],
	[-3.632050, 9.662179],
	[-5.232050, 5.062179],
	[1.767950, 5.062179],
	[-5.232050, 9.062180],
	[1.767950, 9.062180],
	[-0.232050, 10.062180],
	[-2.232050, 10.062180],
	[0.367950, 9.062180],
	[-2.832050, 9.062180],
	[-1.232050, 8.862179],
	[-2.290064, 8.518410],
	[-2.943952, 7.618410],
	[-2.943952, 6.505949],
	[-2.290064, 5.605948],
	[-1.232050, 5.262179],
	[-0.174036, 5.605948],
	[0.479852, 6.505948],
	[0.479852, 7.618410],
	[-0.174037, 8.518410],
	[5.767950, 10.502178],
	[4.921539, 10.227163],
	[4.398428, 9.507162],
	[4.398428, 8.617193],
	[4.921539, 7.897194],
	[5.767950, 7.622178],
	[6.614360, 7.897194],
	[7.137471, 8.617193],
	[7.137471, 9.507162],
	[6.614360, 10.227163],
	[2.567950, 11.262178],
	[3.367950, 11.262178],
	[2.567950, 11.662178],
	[3.367950, 11.662178],
	[1.767950, 7.062178],
	[8.767950, 7.062178],
	[1.767950, 11.062178],
	[8.767950, 11.062178],
	[6.767950, 12.062178],
	[4.767950, 12.062178],
	[7.367950, 11.062178],
	[4.167949, 11.062178],
	[5.767950, 10.862179],
	[4.709936, 10.518409],
	[4.056048, 9.618408],
	[4.056048, 8.505947],
	[4.709936, 7.605947],
	[5.767950, 7.262178],
	[6.825963, 7.605947],
	[7.479851, 8.505947],
	[7.479851, 9.618408],
	[6.825963, 10.518410],
	[11.000000, 5.440000],
	[10.153589, 5.164985],
	[9.630479, 4.444984],
	[9.630479, 3.555016],
	[10.153589, 2.835016],
	[11.000000, 2.560000],
	[11.846411, 2.835016],
	[12.369521, 3.555015],
	[12.369521, 4.444984],
	[11.846411, 5.164985],
	[7.800000, 6.200000],
	[8.600000, 6.200000],
	[7.800000, 6.600000],
	[8.600000, 6.600000],
	[7.000000, 2.000000],
	[14.000000, 2.000000],
	[7.000000, 6.000000],
	[14.000000, 6.000000],
	[12.000000, 7.000000],
	[10.000000, 7.000000],
	[12.600000, 6.000000],
	[9.400000, 6.000000],
	[11.000000, 5.800000],
	[9.941986, 5.456231],
	[9.288098, 4.556231],
	[9.288098, 3.443769],
	[9.941986, 2.543769],
	[11.000000, 2.200000],
	[12.058014, 2.543770],
	[12.711902, 3.443769],
	[12.711902, 4.556231],
	[12.058013, 5.456231],
	]
    edges = [
	[2, 1],
	[3, 2],
	[4, 3],
	[5, 4],
	[6, 5],
	[7, 6],
	[8, 7],
	[9, 8],
	[10, 9],
	[1, 10],
	[13, 11],
	[11, 12],
	[12, 14],
	[14, 13],
	[17, 15],
	[15, 16],
	[16, 18],
	[17, 22],
	[20, 22],
	[19, 20],
	[19, 21],
	[18, 21],
	[24, 23],
	[25, 24],
	[26, 25],
	[27, 26],
	[28, 27],
	[29, 28],
	[30, 29],
	[31, 30],
	[32, 31],
	[23, 32],
	[34, 33],
	[35, 34],
	[36, 35],
	[37, 36],
	[38, 37],
	[39, 38],
	[40, 39],
	[41, 40],
	[42, 41],
	[33, 42],
	[45, 43],
	[43, 44],
	[44, 46],
	[46, 45],
	[49, 47],
	[47, 48],
	[48, 50],
	[49, 54],
	[52, 54],
	[51, 52],
	[51, 53],
	[50, 53],
	[56, 55],
	[57, 56],
	[58, 57],
	[59, 58],
	[60, 59],
	[61, 60],
	[62, 61],
	[63, 62],
	[64, 63],
	[55, 64],
	[66, 65],
	[67, 66],
	[68, 67],
	[69, 68],
	[70, 69],
	[71, 70],
	[72, 71],
	[73, 72],
	[74, 73],
	[65, 74],
	[77, 75],
	[75, 76],
	[76, 78],
	[78, 77],
	[81, 79],
	[79, 80],
	[80, 82],
	[81, 86],
	[84, 86],
	[83, 84],
	[83, 85],
	[82, 85],
	[88, 87],
	[89, 88],
	[90, 89],
	[91, 90],
	[92, 91],
	[93, 92],
	[94, 93],
	[95, 94],
	[96, 95],
	[87, 96],
	[98, 97],
	[99, 98],
	[100, 99],
	[101, 100],
	[102, 101],
	[103, 102],
	[104, 103],
	[105, 104],
	[106, 105],
	[97, 106],
	[109, 107],
	[107, 108],
	[108, 110],
	[110, 109],
	[113, 111],
	[111, 112],
	[112, 114],
	[113, 118],
	[116, 118],
	[115, 116],
	[115, 117],
	[114, 117],
	[120, 119],
	[121, 120],
	[122, 121],
	[123, 122],
	[124, 123],
	[125, 124],
	[126, 125],
	[127, 126],
	[128, 127],
	[119, 128],
	[130, 129],
	[131, 130],
	[132, 131],
	[133, 132],
	[134, 133],
	[135, 134],
	[136, 135],
	[137, 136],
	[138, 137],
	[129, 138],
	[141, 139],
	[139, 140],
	[140, 142],
	[142, 141],
	[145, 143],
	[143, 144],
	[144, 146],
	[145, 150],
	[148, 150],
	[147, 148],
	[147, 149],
	[146, 149],
	[152, 151],
	[153, 152],
	[154, 153],
	[155, 154],
	[156, 155],
	[157, 156],
	[158, 157],
	[159, 158],
	[160, 159],
	[151, 160],
	[162, 161],
	[163, 162],
	[164, 163],
	[165, 164],
	[166, 165],
	[167, 166],
	[168, 167],
	[169, 168],
	[170, 169],
	[161, 170],
	[173, 171],
	[171, 172],
	[172, 174],
	[174, 173],
	[177, 175],
	[175, 176],
	[176, 178],
	[177, 182],
	[180, 182],
	[179, 180],
	[179, 181],
	[178, 181],
	[184, 183],
	[185, 184],
	[186, 185],
	[187, 186],
	[188, 187],
	[189, 188],
	[190, 189],
	[191, 190],
	[192, 191],
	[183, 192],
	]

    desenha(vertexes, edges)


if __name__ == '__main__':
    glutInit(sys.argv)
    glutInitDisplayMode(GLUT_RGB | GLUT_DOUBLE | GLUT_DEPTH)

    glutInitWindowPosition(0, 0)
    glutInitWindowSize(600, 600)
    glutCreateWindow("Exercicio de Computacao Grafica")

    glutKeyboardFunc(keyboard)
    glutDisplayFunc(draw)

    glutMainLoop()
